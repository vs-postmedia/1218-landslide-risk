(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function N(){}function ge(e,t){for(const n in t)e[n]=t[n];return e}function oe(e){return e()}function X(){return Object.create(null)}function H(e){e.forEach(oe)}function re(e){return typeof e=="function"}function P(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let $;function be(e,t){return $||($=document.createElement("a")),$.href=t,e===$.href}function ye(e){return Object.keys(e).length===0}function _e(e,t,n,o){if(e){const r=ie(e,t,n,o);return e[0](r)}}function ie(e,t,n,o){return e[1]&&o?ge(n.ctx.slice(),e[1](o(t))):n.ctx}function ve(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(t.dirty.length,r.length);for(let l=0;l<s;l+=1)i[l]=t.dirty[l]|r[l];return i}return t.dirty|r}return t.dirty}function we(e,t,n,o,r,i){if(r){const s=ie(t,n,o,i);e.p(s,r)}}function xe(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function _(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function ke(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function se(e){return document.createTextNode(e)}function O(){return se(" ")}function Be(){return se("")}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Se(e){return Array.from(e.childNodes)}function Y(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Z(e,t,n){e.classList[n?"add":"remove"](t)}let D;function z(e){D=e}function Ce(){if(!D)throw new Error("Function called outside component initialization");return D}function Ae(e){Ce().$$.on_mount.push(e)}const S=[],F=[];let A=[];const T=[],Ee=Promise.resolve();let R=!1;function ze(){R||(R=!0,Ee.then(ae))}function j(e){A.push(e)}function le(e){T.push(e)}const q=new Set;let B=0;function ae(){if(B!==0)return;const e=D;do{try{for(;B<S.length;){const t=S[B];B++,z(t),De(t.$$)}}catch(t){throw S.length=0,B=0,t}for(z(null),S.length=0,B=0;F.length;)F.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];q.has(n)||(q.add(n),n())}A.length=0}while(S.length);for(;T.length;)T.pop()();R=!1,q.clear(),z(e)}function De(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}function Fe(e){const t=[],n=[];A.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),A=t}const M=new Set;let Ie;function L(e,t){e&&e.i&&(M.delete(e),e.i(t))}function G(e,t,n,o){if(e&&e.o){if(M.has(e))return;M.add(e),Ie.c.push(()=>{M.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function ce(e,t,n){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function fe(e){e&&e.c()}function K(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||j(()=>{const s=e.$$.on_mount.map(oe).filter(re);e.$$.on_destroy?e.$$.on_destroy.push(...s):H(s),e.$$.on_mount=[]}),i.forEach(j)}function U(e,t){const n=e.$$;n.fragment!==null&&(Fe(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){e.$$.dirty[0]===-1&&(S.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(e,t,n,o,r,i,s,l=[-1]){const u=D;z(e);const a=e.$$={fragment:null,ctx:[],props:i,update:N,not_equal:r,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:X(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};s&&s(a.root);let p=!1;if(a.ctx=n?n(e,t.props||{},(f,h,...m)=>{const y=m.length?m[0]:h;return a.ctx&&r(a.ctx[f],a.ctx[f]=y)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](y),p&&$e(e,f)),h}):[],a.update(),p=!0,H(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const f=Se(t.target);a.fragment&&a.fragment.l(f),f.forEach(k)}else a.fragment&&a.fragment.c();t.intro&&L(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),ae()}z(u)}class J{$destroy(){U(this,1),this.$destroy=N}$on(t,n){if(!re(n))return N;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ee=['Debris flows are common in B.C.\u2019s coastal coastal mountains because heavy rains fall on steep slopes covered in loose sediment. The Sea to Sky Highway between Horseshoe Bay and Britannia has a history of destructive debris flows. <span class="scroll-more">Scroll for more...</span>',"Heavy rains can swell streams along the mountain crest and cause sediment to slide into the rapid waters, forming debris flows.","The debris flows can pick up trees, sediment and speed as they pass through mountainside canyons.","As the debris flows exit the canyons, they form a fan that can damage roads, bridges and homes."];function Oe(e){let t,n;const o=e[7].default,r=_e(o,e,e[6],null);return{c(){t=b("div"),r&&r.c()},m(i,s){C(i,t,s),r&&r.m(t,null),e[8](t),n=!0},p(i,[s]){r&&r.p&&(!n||s&64)&&we(r,o,i,i[6],n?ve(o,i[6],s,null):xe(i[6]),null)},i(i){n||(L(r,i),n=!0)},o(i){G(r,i),n=!1},d(i){i&&k(t),r&&r.d(i),e[8](null)}}}function Me(e,t,n){let{$$slots:o={},$$scope:r}=t,{root:i=null}=t,{top:s=0}=t,{bottom:l=0}=t,{increments:u=100}=t,{value:a=void 0}=t;const p=[],f=[];let h=[],m=[],y;const E=()=>{!h.length||h.forEach(v)},d=()=>{let c=0,w=0;for(let x=0;x<p.length;x++)p[x]>c&&(c=p[x],w=x);c>0?n(1,a=w):n(1,a=void 0)},v=(c,w)=>{const x=W=>{W[0].isIntersecting;const he=W[0].intersectionRatio;p[w]=he,d()},ue=s?s*-1:0,de=l?l*-1:0,pe=`${ue}px 0px ${de}px 0px`,me={root:i,rootMargin:pe,threshold:f};m[w]&&m[w].disconnect();const Q=new IntersectionObserver(x,me);Q.observe(c),m[w]=Q};Ae(()=>{for(let c=0;c<u+1;c++)f.push(c/u);h=y.querySelectorAll(":scope > *"),E()});function I(c){F[c?"unshift":"push"](()=>{y=c,n(0,y)})}return e.$$set=c=>{"root"in c&&n(2,i=c.root),"top"in c&&n(3,s=c.top),"bottom"in c&&n(4,l=c.bottom),"increments"in c&&n(5,u=c.increments),"value"in c&&n(1,a=c.value),"$$scope"in c&&n(6,r=c.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&E()},[y,a,i,s,l,u,r,o,I]}class He extends J{constructor(t){super(),V(this,t,Me,Oe,P,{root:2,top:3,bottom:4,increments:5,value:1})}}function te(e,t,n){const o=e.slice();return o[2]=t[n],o[4]=n,o}function ne(e){let t,n,o,r=e[2]+"",i;return{c(){t=b("li"),n=b("div"),o=b("p"),i=O(),g(n,"class","step-content svelte-13p4ff6"),g(t,"class","step svelte-13p4ff6"),Z(t,"active",e[0]===e[4])},m(s,l){C(s,t,l),_(t,n),_(n,o),o.innerHTML=r,_(t,i)},p(s,l){l&1&&Z(t,"active",s[0]===s[4])},d(s){s&&k(t)}}}function Le(e){let t,n=ee,o=[];for(let r=0;r<n.length;r+=1)o[r]=ne(te(e,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=Be()},m(r,i){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(r,i);C(r,t,i)},p(r,i){if(i&1){n=ee;let s;for(s=0;s<n.length;s+=1){const l=te(r,n,s);o[s]?o[s].p(l,i):(o[s]=ne(l),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(r){ke(o,r),r&&k(t)}}}function qe(e){let t,n,o;function r(s){e[1](s)}let i={$$slots:{default:[Le]},$$scope:{ctx:e}};return e[0]!==void 0&&(i.value=e[0]),t=new He({props:i}),F.push(()=>ce(t,"value",r)),{c(){fe(t.$$.fragment)},m(s,l){K(t,s,l),o=!0},p(s,[l]){const u={};l&33&&(u.$$scope={dirty:l,ctx:s}),!n&&l&1&&(n=!0,u.value=s[0],le(()=>n=!1)),t.$set(u)},i(s){o||(L(t.$$.fragment,s),o=!0)},o(s){G(t.$$.fragment,s),o=!1},d(s){U(t,s)}}}function Ne(e,t,n){let{currentStep:o}=t;function r(i){o=i,n(0,o)}return e.$$set=i=>{"currentStep"in i&&n(0,o=i.currentStep)},[o,r]}class Te extends J{constructor(t){super(),V(this,t,Ne,qe,P,{currentStep:0})}}function Re(e){let t,n,o,r,i,s,l,u,a,p,f,h,m;function y(d){e[1](d)}let E={};return e[0]!==void 0&&(E.currentStep=e[0]),f=new Te({props:E}),F.push(()=>ce(f,"currentStep",y)),{c(){t=b("section"),n=b("header"),n.innerHTML="<h1>How landslides form in Howe Sound</h1>",o=O(),r=b("div"),i=b("iframe"),l=O(),u=b("footer"),u.innerHTML=`<p class="source">Source:
            <a href="https://web.viu.ca/earle/howe-sound/" target="_blank">Geological Survey of Canada</a>,
            <a href="https://www.earthdata.nasa.gov/data/instruments/srtm" target="_blank">NASA</a>,
            <a href="https://www.openstreetmap.org/" target="_blank">OSM.org</a></p> 
        
        <div style="width:100%!;margin-top:4px!important;text-align:right!important;"><a class="flourish-credit" href="https://public.flourish.studio/visualisation/3706064/?utm_source=embed&amp;utm_campaign=visualisation/3706064" target="_top" style="text-decoration:none!important"><img alt="Made with Flourish" src="https://public.flourish.studio/resources/made_with_flourish.svg" style="width:105px!important;height:16px!important;border:none!important;margin:0!important;"/></a></div>`,a=O(),p=b("ul"),fe(f.$$.fragment),be(i.src,s=Pe)||g(i,"src",s),g(i,"frameborder","0"),g(i,"scrolling","no"),Y(i,"width","100%"),Y(i,"height",je),g(i,"title","flourish-embed"),g(r,"class","chart sticky svelte-1qgig1r"),g(u,"class","svelte-1qgig1r"),g(t,"class","scrollyteller sticky svelte-1qgig1r"),g(p,"class","steps svelte-1qgig1r")},m(d,v){C(d,t,v),_(t,n),_(t,o),_(t,r),_(r,i),_(t,l),_(t,u),C(d,a,v),C(d,p,v),K(f,p,null),m=!0},p(d,[v]){const I={};!h&&v&1&&(h=!0,I.currentStep=d[0],le(()=>h=!1)),f.$set(I)},i(d){m||(L(f.$$.fragment,d),m=!0)},o(d){G(f.$$.fragment,d),m=!1},d(d){d&&k(t),d&&k(a),d&&k(p),U(f)}}}const je="575px",Pe="https://flo.uri.sh/story/2782064/embed";function Ge(e,t,n){let o,r;const i=function(l){r=document.querySelector("#app .chart > iframe"),r.src=r.src.replace(/#slide-.*/,"")+"#slide-"+l};function s(l){o=l,n(0,o)}return e.$$.update=()=>{e.$$.dirty&1&&(o===0||o===1||o===2||o===3)&&i(o)},[o,s]}class Ke extends J{constructor(t){super(),V(this,t,Ge,Re,P,{})}}new Ke({target:document.getElementById("app")});
